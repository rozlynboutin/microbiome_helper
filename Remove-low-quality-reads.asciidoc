We use the readFilter.pl script to wrap two useful tools:

* http://hannonlab.cshl.edu/fastx_toolkit/[FASTX-Toolkit]
* https://sourceforge.net/projects/bbmap/[BBMap]

FASTX-Toolkit is used to filter out reads with a given proportion of sites under a set quality threshold and also reads less than a specified length. BBMap is then used to filter out reads that do not match either the forward or reverse primer sequences (which should be at each end of the read).

Here is an example of how this script is run:

    readFilter.pl -thread 4 -q 30 -p 90 -l 400 stitched_reads/*.assembled.*

Note that by default.

Options: 

* -h, --help <br>
   Displays the entire help documentation.

* -v, --version <br />
   Displays script version and exits.

* -o, --out_dir <file>  
   Output directory for filtered fastq files. Default is "filtered_reads".

* -thread [<# of CPUs]> <br>
   Using this option without a value will use all CPUs on machine, while giving it a value will limit to that many CPUs. Without option only one CPU is used.

    -log <file>
        The location to write the log file.

    -q, --min_quality
        Minimum base quality.

    -p, --percent
        Minimum percent of bases per read that pass quality cut-off

    -l, --min_length
        Minimum read length.

    -f, --forward
        Forward primer to match at beginning of all reads (IUPAC format,
        default: ACGCGHNRAACCTTACC).

    -r, --reverse
        Reverse primer to match at end of all reads (IUPAC format, default:
        TTGYACWCACYGCCCGT, which is the reverse complement of the primer
        ACGGGCRGTGWGTRCAA).

    -b, --bbmap
        bbmap directory containing sh files (default: /usr/local/prg/bbmap).

    -pc, --primer_check
        either "both" or "forward", indicating whether to check both forward
        (5') and reverse (3') primer sequences or only the forward primer
        respectively (default: both).